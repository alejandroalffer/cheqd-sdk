<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1121" height="1191" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1121px;height:1191px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1121 1191" zoomAndPan="magnify"><defs><filter id="fpy34uyqqo0p3" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect style="stroke:#a80036;stroke-width:1" width="10" height="100.398" x="410" y="260.227" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="58.266" x="410" y="573.555" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="71.266" x="410" y="1014.547" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="211.93" x="673" y="289.359" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="169.797" x="673" y="602.688" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="71.266" x="673" y="871.016" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="98.531" x="994" y="772.484" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="96" x2="96" y1="86.297" y2="1103.813"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="415" x2="415" y1="86.297" y2="1103.813"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="678" x2="678" y1="86.297" y2="1103.813"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:5,5" x1="999" x2="999" y1="86.297" y2="1103.813"/><text x="58" y="82.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70">Client app</text><ellipse cx="96" cy="13" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)" rx="8" ry="8" style="stroke:#a80036;stroke-width:2"/><path fill="none" d="M96,21 L96,48 M83,29 L109,29 M96,48 L83,63 M96,48 L109,63" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:2"/><text x="58" y="1115.808" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70">Client app</text><ellipse cx="96" cy="1129.109" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)" rx="8" ry="8" style="stroke:#a80036;stroke-width:2"/><path fill="none" d="M96,1137.1094 L96,1164.1094 M83,1145.1094 L109,1145.1094 M96,1164.1094 L83,1179.1094 M96,1164.1094 L109,1179.1094" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:2"/><rect style="stroke:#a80036;stroke-width:1.5" width="106" height="30.297" x="360" y="51" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="367" y="70.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92">Client Thread</text><rect style="stroke:#a80036;stroke-width:1.5" width="106" height="30.297" x="360" y="1102.813" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="367" y="1122.808" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92">Client Thread</text><rect style="stroke:#a80036;stroke-width:1.5" width="136" height="30.297" x="608" y="51" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="615" y="70.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122">Command Thread</text><rect style="stroke:#a80036;stroke-width:1.5" width="136" height="30.297" x="608" y="1102.813" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="615" y="1122.808" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122">Command Thread</text><rect style="stroke:#a80036;stroke-width:1.5" width="136" height="30.297" x="929" y="51" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="936" y="70.995" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122">Expensive Thread</text><rect style="stroke:#a80036;stroke-width:1.5" width="136" height="30.297" x="929" y="1102.813" fill="#FEFECE" filter="url(#fpy34uyqqo0p3)"/><text x="936" y="1122.808" fill="#000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122">Expensive Thread</text><rect style="stroke:#a80036;stroke-width:1" width="10" height="100.398" x="410" y="260.227" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="58.266" x="410" y="573.555" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="71.266" x="410" y="1014.547" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="211.93" x="673" y="289.359" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="169.797" x="673" y="602.688" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="71.266" x="673" y="871.016" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><rect style="stroke:#a80036;stroke-width:1" width="10" height="98.531" x="994" y="772.484" fill="#FFF" filter="url(#fpy34uyqqo0p3)"/><path fill="#FBFB77" d="M312,101.2969 L312,156.2969 L513,156.2969 L513,111.2969 L503,101.2969 L312,101.2969" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M503,101.2969 L503,111.2969 L513,111.2969 L503,101.2969" style="stroke:#a80036;stroke-width:1"/><text x="318" y="118.364" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159">Thread of an application,</text><text x="318" y="133.497" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180">used to transfer commands</text><text x="318" y="148.629" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134">to Command thread.</text><path fill="#FBFB77" d="M563,101.2969 L563,156.2969 L789,156.2969 L789,111.2969 L779,101.2969 L563,101.2969" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M779,101.2969 L779,111.2969 L789,111.2969 L779,101.2969" style="stroke:#a80036;stroke-width:1"/><text x="569" y="118.364" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166">Main thread of the library.</text><text x="569" y="133.497" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205">It executes biggest part of logic</text><text x="569" y="148.629" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196">that is implemented in Libindy</text><path fill="#FBFB77" d="M894,101.2969 L894,186.2969 L1100,186.2969 L1100,111.2969 L1090,101.2969 L894,101.2969" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M1090,101.2969 L1090,111.2969 L1100,111.2969 L1090,101.2969" style="stroke:#a80036;stroke-width:1"/><text x="900" y="118.364" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172">Thread that is occasionally</text><text x="900" y="133.497" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138">used for execution of</text><text x="900" y="148.629" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181">some heavy operations like</text><text x="900" y="163.762" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185">credential definition creation</text><text x="900" y="178.895" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110">or key derivation</text><rect style="stroke:#eee;stroke-width:1" width="1106" height="3" x="3" y="216.527" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="216.527" y2="216.527"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="219.527" y2="219.527"/><rect style="stroke:#000;stroke-width:2" width="201" height="23.133" x="455.5" y="205.961" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><text x="461.5" y="222.028" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187">Common command cycle</text><polygon fill="#A80036" points="398 256.227 408 260.227 398 264.227 402 260.227" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="96" x2="404" y1="260.227" y2="260.227"/><text x="103" y="255.161" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203">indy_create_and_store_my_did</text><polygon fill="#A80036" points="661 285.359 671 289.359 661 293.359 665 289.359" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="420" x2="667" y1="289.359" y2="289.359"/><text x="427" y="284.293" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146">CreateAndStoreMyDid</text><line style="stroke:#a80036;stroke-width:1" x1="683" x2="725" y1="318.492" y2="318.492"/><line style="stroke:#a80036;stroke-width:1" x1="725" x2="725" y1="318.492" y2="331.492"/><line style="stroke:#a80036;stroke-width:1" x1="684" x2="725" y1="331.492" y2="331.492"/><polygon fill="#A80036" points="694 327.492 684 331.492 694 335.492 690 331.492" style="stroke:#a80036;stroke-width:1"/><text x="690" y="313.426" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52">do_logic</text><polygon fill="#A80036" points="107 356.625 97 360.625 107 364.625 103 360.625" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="101" x2="414" y1="360.625" y2="360.625"/><text x="113" y="355.559" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68">error code</text><path fill="#FBFB77" d="M8,373.625 L8,428.625 L181,428.625 L181,383.625 L171,373.625 L8,373.625" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M171,373.625 L171,383.625 L181,383.625 L171,373.625" style="stroke:#a80036;stroke-width:1"/><text x="14" y="390.692" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125">App waits for result</text><text x="14" y="405.825" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152">asynchronously if there</text><text x="14" y="420.957" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129">was no error before</text><line style="stroke:#a80036;stroke-width:1" x1="683" x2="725" y1="459.156" y2="459.156"/><line style="stroke:#a80036;stroke-width:1" x1="725" x2="725" y1="459.156" y2="472.156"/><line style="stroke:#a80036;stroke-width:1" x1="684" x2="725" y1="472.156" y2="472.156"/><polygon fill="#A80036" points="694 468.156 684 472.156 694 476.156 690 472.156" style="stroke:#a80036;stroke-width:1"/><text x="690" y="454.09" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110">execute callback</text><polygon fill="#A80036" points="107 497.289 97 501.289 107 505.289 103 501.289" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="101" x2="677" y1="501.289" y2="501.289"/><text x="113" y="496.223" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37">result</text><rect style="stroke:#eee;stroke-width:1" width="1106" height="3" x="3" y="529.856" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="529.856" y2="529.856"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="532.856" y2="532.856"/><rect style="stroke:#000;stroke-width:2" width="529" height="23.133" x="291.5" y="519.289" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><text x="297.5" y="535.356" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="515">Expensive commands (key derivation, credential definition creation)</text><polygon fill="#A80036" points="398 569.555 408 573.555 398 577.555 402 573.555" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="96" x2="404" y1="573.555" y2="573.555"/><text x="103" y="568.489" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295">indy_issuer_create_and_store_credential_def</text><polygon fill="#A80036" points="661 598.688 671 602.688 661 606.688 665 602.688" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="420" x2="667" y1="602.688" y2="602.688"/><text x="427" y="597.622" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234">CreateAndStoreCredentialDefinition</text><polygon fill="#A80036" points="107 627.82 97 631.82 107 635.82 103 631.82" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="101" x2="414" y1="631.82" y2="631.82"/><text x="113" y="626.754" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68">error code</text><path fill="#FBFB77" d="M8,644.8203 L8,699.8203 L181,699.8203 L181,654.8203 L171,644.8203 L8,644.8203" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M171,644.8203 L171,654.8203 L181,654.8203 L171,644.8203" style="stroke:#a80036;stroke-width:1"/><text x="14" y="661.887" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125">App waits for result</text><text x="14" y="677.02" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152">asynchronously if there</text><text x="14" y="692.153" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129">was no error before</text><line style="stroke:#a80036;stroke-width:1" x1="683" x2="725" y1="730.352" y2="730.352"/><line style="stroke:#a80036;stroke-width:1" x1="725" x2="725" y1="730.352" y2="743.352"/><line style="stroke:#a80036;stroke-width:1" x1="684" x2="725" y1="743.352" y2="743.352"/><polygon fill="#A80036" points="694 739.352 684 743.352 694 747.352 690 743.352" style="stroke:#a80036;stroke-width:1"/><text x="690" y="725.286" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173">CreateCredentialDefinition</text><polygon fill="#A80036" points="982 768.484 992 772.484 982 776.484 986 772.484" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="678" x2="988" y1="772.484" y2="772.484"/><text x="685" y="767.418" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166">new_credential_definition</text><path fill="#FBFB77" d="M565,785.4844 L565,840.4844 L786,840.4844 L786,795.4844 L776,785.4844 L565,785.4844" filter="url(#fpy34uyqqo0p3)" style="stroke:#a80036;stroke-width:1"/><path fill="#FBFB77" d="M776,785.4844 L776,795.4844 L786,795.4844 L776,785.4844" style="stroke:#a80036;stroke-width:1"/><text x="571" y="802.551" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200">Command thread can execute</text><text x="571" y="817.684" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155">other commands during</text><text x="571" y="832.817" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193">the work of expensive thread</text><polygon fill="#A80036" points="694 867.016 684 871.016 694 875.016 690 871.016" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="688" x2="998" y1="871.016" y2="871.016"/><text x="700" y="865.95" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292">CreateAndStoreCredentialDefinitionContinue</text><line style="stroke:#a80036;stroke-width:1" x1="683" x2="725" y1="900.148" y2="900.148"/><line style="stroke:#a80036;stroke-width:1" x1="725" x2="725" y1="900.148" y2="913.148"/><line style="stroke:#a80036;stroke-width:1" x1="684" x2="725" y1="913.148" y2="913.148"/><polygon fill="#A80036" points="694 909.148 684 913.148 694 917.148 690 913.148" style="stroke:#a80036;stroke-width:1"/><text x="690" y="895.082" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110">execute callback</text><polygon fill="#A80036" points="107 938.281 97 942.281 107 946.281 103 942.281" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1;stroke-dasharray:2,2" x1="101" x2="677" y1="942.281" y2="942.281"/><text x="113" y="937.215" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37">result</text><rect style="stroke:#eee;stroke-width:1" width="1106" height="3" x="3" y="970.848" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="970.848" y2="970.848"/><line style="stroke:#000;stroke-width:1" x1="3" x2="1109" y1="973.848" y2="973.848"/><rect style="stroke:#000;stroke-width:2" width="148" height="23.133" x="482" y="960.281" fill="#EEE" filter="url(#fpy34uyqqo0p3)"/><text x="488" y="976.348" fill="#000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="134">Synchronous calls</text><polygon fill="#A80036" points="398 1010.547 408 1014.547 398 1018.547 402 1014.547" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="96" x2="404" y1="1014.547" y2="1014.547"/><text x="103" y="1009.481" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169">indy_set_protocol_version</text><line style="stroke:#a80036;stroke-width:1" x1="420" x2="462" y1="1043.68" y2="1043.68"/><line style="stroke:#a80036;stroke-width:1" x1="462" x2="462" y1="1043.68" y2="1056.68"/><line style="stroke:#a80036;stroke-width:1" x1="421" x2="462" y1="1056.68" y2="1056.68"/><polygon fill="#A80036" points="431 1052.68 421 1056.68 431 1060.68 427 1056.68" style="stroke:#a80036;stroke-width:1"/><text x="427" y="1038.614" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120">some config setup</text><polygon fill="#A80036" points="107 1081.813 97 1085.813 107 1089.813 103 1085.813" style="stroke:#a80036;stroke-width:1"/><line style="stroke:#a80036;stroke-width:1" x1="101" x2="414" y1="1085.813" y2="1085.813"/><text x="113" y="1080.747" fill="#000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68">error code</text></g></svg>